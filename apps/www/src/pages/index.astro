---
import Base from "@layouts/Base.astro";
import HeroCodeSpaceBackground from "@components/HeroCodeSpaceBackground.astro";
import { getCollection } from "astro:content";
import { useTranslations, getLocaleFromUrl } from "@i18n/index";
import { SITE_URLS } from "@lib/urls";

const locale = getLocaleFromUrl(Astro.url);
const t = useTranslations(locale);

const allResources = await getCollection("resources");
const labExamples = allResources.filter((resource: any) => typeof resource.data.labRoute === "string" && resource.data.labRoute.length > 0);
const easyMarquee = labExamples.filter((resource: any) => resource.data.difficulty === "easy").slice(0, 12);
const medMarquee = labExamples.filter((resource: any) => resource.data.difficulty === "med").slice(0, 12);
const hardPriorityCategories = new Set(["web-pages", "pages"]);
const hardOnlyExamples = labExamples.filter((resource: any) => resource.data.difficulty === "hard");
const hardPriorityExamples = hardOnlyExamples.filter((resource: any) => hardPriorityCategories.has(resource.data.category));
const hardOtherExamples = hardOnlyExamples.filter((resource: any) => !hardPriorityCategories.has(resource.data.category));
const hardFallbackPages = labExamples.filter(
  (resource: any) => resource.data.difficulty === "med" && hardPriorityCategories.has(resource.data.category)
);
const hardMarquee = [...hardPriorityExamples, ...hardOtherExamples, ...hardFallbackPages].slice(0, 20);
const categoryCount = new Set(allResources.map((resource: any) => resource.data.category)).size;

const rotatingWords = (t("hero.rotatingWords") as string).split(",").map((w) => w.trim());
// Hue base por palabra para gradiente (grados) — estilo lgc-37-gradient-text-scroll
const wordHues = [0, 45, 120, 200, 280, 320];
const homeDescription = "Reusable web resources — animations, pages, components, and patterns. All open source.";
const alternateLinks = [
  { hreflang: "en", href: "https://stealthis.dev/" },
  { hreflang: "es", href: "https://stealthis.dev/es/" },
  { hreflang: "x-default", href: "https://stealthis.dev/" },
];
const structuredData = [
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    name: "StealThis.dev",
    url: "https://stealthis.dev/",
    inLanguage: ["en", "es"],
    description: homeDescription,
  },
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    name: "StealThis.dev",
    url: "https://stealthis.dev/",
    sameAs: ["https://github.com/Foodhy/stealthis"],
  },
];
---

<Base
  title="StealThis"
  description={homeDescription}
  canonicalPath="/"
  alternateLinks={alternateLinks}
  structuredData={structuredData}
>
  <div class="home-page-shell relative isolate">
    <div class="home-page-bg absolute inset-0 -z-10" aria-hidden="true">
      <div class="home-page-bg-sticky sticky top-0 h-screen">
        <HeroCodeSpaceBackground />
      </div>
    </div>

  <!-- Hero -->
  <section class="hero-stage relative overflow-hidden pt-20 pb-16 min-w-0">
    <div class="container-xl text-center hero-container min-w-0 relative">
      <div class="hero-cta-shell mx-auto max-w-5xl px-5 py-9 sm:px-10 sm:py-12">
        <h1 class="hero-anim-item text-5xl sm:text-6xl lg:text-7xl font-extrabold tracking-tight leading-[1.15] mb-6 hero-title-gradient min-w-0">
          <span class="block">{t("hero.titlePrefix").trim()}</span>
          <span class="block">
            <span
              class="hero-rotating-wrap inline-block align-baseline overflow-hidden"
              data-words={JSON.stringify(rotatingWords)}
            >
              <span class="hero-rotating-words inline-block">
                {rotatingWords.map((word, i) => (
                  <span class="hero-rotating-word hero-rotating-word-gradient block" style={`--hue-word: ${wordHues[i % wordHues.length]}deg`}>{word}</span>
                ))}
                <span class="hero-rotating-word hero-rotating-word-gradient block" style={`--hue-word: ${wordHues[0]}deg`}>{rotatingWords[0]}</span>
              </span>
            </span>
          </span>
          <span class="block text-2xl sm:text-3xl lg:text-4xl font-semibold hero-suffix-line">{t("hero.titleSuffix").trim()}</span>
        </h1>

        <p class="hero-anim-item text-lg text-slate-300 max-w-2xl mx-auto mb-8 leading-relaxed">
          {t("hero.subtitle.before")}
          <a
            href={`${SITE_URLS.docs}/integrate/`}
            target="_blank"
            rel="noopener"
            class="hero-integrate-link text-brand-400 hover:text-brand-300 font-medium underline underline-offset-2 decoration-brand-500/50 hover:decoration-brand-400 transition-colors"
          >
            {t("hero.subtitle.mcp")}
          </a>
          {t("hero.subtitle.after")}
        </p>

        <form class="hero-anim-item hero-search-shell mx-auto mb-8 max-w-2xl" action="/library" method="get">
          <label for="hero-home-search" class="sr-only">Search library</label>
          <svg class="hero-search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M21 21l-4.3-4.3M11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"></path>
          </svg>
          <input id="hero-home-search" name="search" type="search" placeholder="Press CMD+K to search..." autocomplete="off" />
        </form>

        <div class="hero-anim-item flex flex-wrap gap-3 justify-center">
          <a
            href="/library"
            class="hero-primary-cta inline-flex items-center gap-2 px-7 py-3.5 rounded-2xl font-semibold text-base"
          >
            {t("hero.cta.browse")}
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </a>
          <a
            href={SITE_URLS.docs}
            target="_blank"
            rel="noopener"
            class="hero-secondary-cta inline-flex items-center gap-2 px-7 py-3.5 rounded-2xl font-semibold text-base"
          >
            {t("hero.cta.docs")}
          </a>
        </div>
      </div>

      <!-- Stats -->
      <div class="hero-anim-item hero-stats flex items-center justify-center gap-8 mt-10 text-sm flex-wrap">
        <div class="flex flex-col items-center gap-1">
          <span class="hero-count text-2xl font-bold text-white" data-count={allResources.length}>{allResources.length}</span>
          <span class="text-slate-500">Resources</span>
        </div>
        <div class="w-px h-8 bg-white/10"></div>
        <div class="flex flex-col items-center gap-1">
          <span class="hero-count text-2xl font-bold text-white" data-count={categoryCount}>{categoryCount}</span>
          <span class="text-slate-500">Categories</span>
        </div>
        <div class="w-px h-8 bg-white/10"></div>
        <div class="flex flex-col items-center gap-1">
          <span class="text-2xl font-bold text-white">MIT</span>
          <span class="text-slate-500">License</span>
        </div>
      </div>
    </div>
  </section>

  <script>
    import { gsap } from "gsap";
    import { ScrollTrigger } from "gsap/ScrollTrigger";

    gsap.registerPlugin(ScrollTrigger);

    const SCRAMBLE_CHARS = "!<>-_\\/[]{}=+*^?#________";

    const prefersReducedMotion = () =>
      typeof window !== "undefined" && window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    class TextScramble {
      el: HTMLElement;
      queue: Array<{ from: string; to: string; start: number; end: number; char: string }>;
      frame: number;
      frameReq: number | null;
      resolve: (() => void) | null;
      update: () => void;

      constructor(el: HTMLElement) {
        this.el = el;
        this.queue = [];
        this.frame = 0;
        this.frameReq = null;
        this.resolve = null;
        this.update = this.updateFrame.bind(this);
      }

      randomChar() {
        return SCRAMBLE_CHARS[Math.floor(Math.random() * SCRAMBLE_CHARS.length)];
      }

      setText(nextText: string) {
        const oldText = this.el.textContent ?? "";
        const length = Math.max(oldText.length, nextText.length);
        this.queue = [];

        for (let i = 0; i < length; i += 1) {
          const from = oldText[i] ?? "";
          const to = nextText[i] ?? "";
          const start = Math.floor(Math.random() * 10);
          const end = start + Math.floor(Math.random() * 12) + 6;
          this.queue.push({ from, to, start, end, char: "" });
        }

        if (this.frameReq != null) {
          window.cancelAnimationFrame(this.frameReq);
        }

        this.frame = 0;
        return new Promise<void>((resolve) => {
          this.resolve = resolve;
          this.update();
        });
      }

      updateFrame() {
        let output = "";
        let complete = 0;

        for (let i = 0; i < this.queue.length; i += 1) {
          const item = this.queue[i];
          if (this.frame >= item.end) {
            complete += 1;
            output += item.to;
          } else if (this.frame >= item.start) {
            if (!item.char || Math.random() < 0.28) {
              item.char = this.randomChar();
            }
            output += `<span class="scramble-char">${item.char}</span>`;
          } else {
            output += item.from;
          }
        }

        this.el.innerHTML = output;
        this.frame += 1;

        if (complete === this.queue.length) {
          if (this.resolve) this.resolve();
          this.resolve = null;
          this.frameReq = null;
        } else {
          this.frameReq = window.requestAnimationFrame(this.update);
        }
      }
    }

    function initHeroRotatingWords() {
      const wrap = document.querySelector(".hero-rotating-wrap");
      const wordsEl = document.querySelector(".hero-rotating-words");
      if (!wrap || !wordsEl) return;

      const wordsData = wrap.getAttribute("data-words");
      if (!wordsData) return;

      const words: string[] = JSON.parse(wordsData);
      const wordHeight = 1.25;
      const totalSlots = words.length + 1;

      gsap.set(wordsEl, { y: 0 });
      let index = 0;

      function cycle() {
        const next = index + 1;
        const isLast = next === totalSlots - 1;

        gsap.to(wordsEl, {
          y: `-${next * wordHeight}em`,
          duration: 0.6,
          ease: "power2.inOut",
          overwrite: true,
          onComplete: () => {
            if (isLast) {
              gsap.set(wordsEl, { y: 0 });
              index = 0;
            } else {
              index = next;
            }
          },
        });
        if (!isLast) index = next;
      }

      const interval = setInterval(cycle, 2500);
      return () => clearInterval(interval);
    }

    function initHeroEntrance() {
      const items = document.querySelectorAll<HTMLElement>(".hero-anim-item");
      const countEls = document.querySelectorAll<HTMLElement>(".hero-count");
      const reduceMotion = prefersReducedMotion();

      if (reduceMotion) {
        items.forEach((el) => el.style.removeProperty("opacity"));
        countEls.forEach((el) => {
          const target = el.getAttribute("data-count");
          if (target != null) el.textContent = target;
        });
        return;
      }

      gsap.set(items, { opacity: 0, y: 20 });
      countEls.forEach((el) => (el.textContent = "0"));
      const tl = gsap.timeline({ defaults: { ease: "power2.out" } });
      tl.to(items, { opacity: 1, y: 0, duration: 0.6, stagger: 0.1 });
      tl.add(
        () => {
          countEls.forEach((el) => {
            const target = Number(el.getAttribute("data-count"));
            if (Number.isNaN(target)) return;
            const obj = { v: 0 };
            gsap.to(obj, {
              v: target,
              duration: 1.2,
              ease: "power2.out",
              onUpdate: () => {
                el.textContent = String(Math.round(obj.v));
              },
            });
          });
        },
        "-=0.3"
      );
    }

    function initExamplesMarquee() {
      const rows = document.querySelectorAll<HTMLElement>("[data-examples-marquee-row]");
      if (!rows.length) return;

      const reduceMotion = prefersReducedMotion();

      rows.forEach((row) => {
        const wrapper = row.querySelector<HTMLElement>("[data-examples-marquee-wrap]");
        const originalTrack = row.querySelector<HTMLElement>("[data-examples-marquee-track]");
        if (!wrapper || !originalTrack) return;

        if (reduceMotion) {
          row.setAttribute("data-static", "true");
          return;
        }

        const createClone = () => {
          const clone = originalTrack.cloneNode(true) as HTMLElement;
          clone.setAttribute("aria-hidden", "true");
          clone.dataset.clone = "true";
          wrapper.appendChild(clone);
        };

        createClone();
        while (wrapper.scrollWidth < row.clientWidth * 2.5) {
          createClone();
        }

        const singleWidth = originalTrack.scrollWidth;
        if (!singleWidth) return;

        const direction = row.dataset.direction === "right" ? 1 : -1;
        const speed = Number(row.dataset.speed ?? "0.36");
        const baseVelocity = speed * direction;
        const state = {
          x: direction > 0 ? -singleWidth : 0,
          velocity: baseVelocity,
          target: baseVelocity,
        };

        const ticker = () => {
          state.velocity += (state.target - state.velocity) * 0.12;
          state.x += state.velocity;

          if (direction < 0 && state.x <= -singleWidth) state.x += singleWidth;
          if (direction > 0 && state.x >= 0) state.x -= singleWidth;

          wrapper.style.transform = `translate3d(${state.x}px, 0, 0)`;
        };

        gsap.ticker.add(ticker);

        const slowDown = () => {
          gsap.killTweensOf(state, "target");
          gsap.to(state, { target: baseVelocity * 0.25, duration: 0.42, ease: "power2.out" });
        };

        const speedUp = () => {
          gsap.killTweensOf(state, "target");
          gsap.to(state, { target: baseVelocity, duration: 0.58, ease: "power3.out" });
        };

        row.addEventListener("mouseenter", slowDown);
        row.addEventListener("mouseleave", speedUp);

        ScrollTrigger.create({
          trigger: row,
          start: "top bottom",
          end: "bottom top",
          onUpdate: (self) => {
            const scrollBoost = gsap.utils.clamp(-2.8, 2.8, self.getVelocity() / 900);
            const nextTarget = baseVelocity + scrollBoost * direction;
            state.target = Math.sign(nextTarget) === Math.sign(baseVelocity) ? nextTarget : baseVelocity * 0.2;
            gsap.killTweensOf(state, "target");
            gsap.to(state, {
              target: baseVelocity,
              delay: 0.05,
              duration: 0.55,
              ease: "power3.out",
              overwrite: true,
            });
          },
          onLeave: speedUp,
          onLeaveBack: speedUp,
        });
      });
    }

    function initRoadmapAnimation() {
      const section = document.querySelector<HTMLElement>(".roadmap-section");
      if (!section) return;

      const reduceMotion = prefersReducedMotion();
      const drawPaths = section.querySelectorAll<SVGPathElement>(".roadmap-draw-path");
      const dots = section.querySelectorAll<SVGCircleElement>(".roadmap-dot");
      const labels = section.querySelectorAll<SVGTextElement>(".roadmap-dot-label");
      const phaseItems = section.querySelectorAll<HTMLElement>(".roadmap-phase-item");

      // Set up path drawing
      drawPaths.forEach((path) => {
        const len = path.getTotalLength();
        gsap.set(path, { strokeDasharray: len, strokeDashoffset: len });

        if (reduceMotion) {
          gsap.set(path, { strokeDashoffset: 0 });
          return;
        }

        gsap.to(path, {
          strokeDashoffset: 0,
          ease: "none",
          scrollTrigger: {
            trigger: section,
            start: "top 75%",
            end: "center 40%",
            scrub: 1.5,
          },
        });
      });

      if (reduceMotion) {
        gsap.set([...dots, ...labels, ...phaseItems], { opacity: 1, y: 0, scale: 1 });
        return;
      }

      // Dots + labels fade/scale in with stagger
      gsap.set(dots, { opacity: 0, scale: 0.5, transformOrigin: "50% 50%" });
      gsap.set(labels, { opacity: 0, y: 6 });
      gsap.set(phaseItems, { opacity: 0, y: 20 });

      gsap.to(dots, {
        opacity: 1, scale: 1, duration: 0.5,
        ease: "back.out(1.7)", stagger: 0.2,
        scrollTrigger: { trigger: section, start: "top 70%", toggleActions: "play none none reverse" },
      });

      gsap.to(labels, {
        opacity: 1, y: 0, duration: 0.4,
        ease: "power3.out", stagger: 0.15,
        scrollTrigger: { trigger: section, start: "top 68%", toggleActions: "play none none reverse" },
      });

      gsap.to(phaseItems, {
        opacity: 1, y: 0, duration: 0.5,
        ease: "power3.out", stagger: 0.1,
        scrollTrigger: { trigger: section, start: "top 55%", toggleActions: "play none none reverse" },
      });
    }

    function initKeywordReveal() {
      const section = document.querySelector<HTMLElement>(".keywords-section");
      if (!section) return;

      const rows = section.querySelectorAll<HTMLElement>(".keyword-row");
      const reduceMotion = prefersReducedMotion();

      if (reduceMotion) {
        rows.forEach((row) => {
          const chars = row.querySelectorAll(".kw-char");
          const copy = row.querySelector(".keyword-copy");
          if (chars.length) gsap.set(chars, { opacity: 1, y: 0, rotateX: 0 });
          if (copy) gsap.set(copy, { opacity: 1, y: 0 });
        });
        return;
      }

      rows.forEach((row) => {
        const line = row.querySelector<HTMLElement>(".keyword-line");
        const copy = row.querySelector<HTMLElement>(".keyword-copy");
        if (!line) return;

        // Split keyword into individual chars
        const text = line.textContent ?? "";
        line.innerHTML = text.split("").map((ch) =>
          ch === " " ? `<span class="kw-char" style="display:inline-block;white-space:pre"> </span>` :
          `<span class="kw-char" style="display:inline-block">${ch}</span>`
        ).join("");

        const chars = row.querySelectorAll<HTMLElement>(".kw-char");
        gsap.set(chars, { opacity: 0, y: 60, rotateX: -55, transformOrigin: "50% 100%" });

        gsap.to(chars, {
          opacity: 1,
          y: 0,
          rotateX: 0,
          duration: 0.55,
          ease: "back.out(1.3)",
          stagger: { each: 0.03, from: "start" },
          scrollTrigger: {
            trigger: row,
            start: "top 88%",
            toggleActions: "play none none reverse",
          },
        });

        if (copy) {
          gsap.set(copy, { opacity: 0, y: 20 });
          gsap.to(copy, {
            opacity: 1,
            y: 0,
            duration: 0.6,
            delay: 0.1,
            ease: "expo.out",
            scrollTrigger: {
              trigger: row,
              start: "top 88%",
              toggleActions: "play none none reverse",
            },
          });
        }
      });
    }

    function initScramblePhilosophy() {
      const section = document.querySelector<HTMLElement>(".scramble-section");
      if (!section) return;

      const cycleEl = section.querySelector<HTMLElement>(".scramble-cycle-line");
      const staticLines = section.querySelectorAll<HTMLElement>(".scramble-static-line");
      const reduceMotion = prefersReducedMotion();

      // Cycling scramble hero
      if (cycleEl) {
        const phrases = JSON.parse(cycleEl.dataset.phrases ?? "[]") as string[];
        if (reduceMotion) {
          cycleEl.textContent = phrases[0] ?? "";
        } else {
          const fx = new TextScramble(cycleEl);
          let idx = 0;
          const cycle = () => {
            void fx.setText(phrases[idx]).then(() => {
              setTimeout(cycle, 2600);
            });
            idx = (idx + 1) % phrases.length;
          };

          ScrollTrigger.create({
            trigger: section,
            start: "top 82%",
            once: true,
            onEnter: () => {
              gsap.to(cycleEl, { opacity: 1, duration: 0.5, ease: "power2.out" });
              cycle();
            },
          });
        }
      }

      // Static styled lines: scramble-in on scroll
      if (reduceMotion) {
        staticLines.forEach((line) => {
          const text = line.dataset.text ?? "";
          line.textContent = text;
        });
        return;
      }

      ScrollTrigger.create({
        trigger: section,
        start: "top 75%",
        once: true,
        onEnter: () => {
          let delay = 0;
          staticLines.forEach((line) => {
            const text = line.dataset.text ?? "";
            const fx = new TextScramble(line);
            setTimeout(() => {
              void fx.setText(text);
            }, delay);
            delay += 320;
          });
        },
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      initHeroRotatingWords();
      initHeroEntrance();
      initExamplesMarquee();
      initRoadmapAnimation();
      initKeywordReveal();
      initScramblePhilosophy();
    });
  </script>

  <style>
    .home-page-shell {
      isolation: isolate;
    }
    .home-page-bg {
      pointer-events: none;
    }
    .home-page-bg-sticky {
      overflow: hidden;
    }
    .hero-stage {
      isolation: isolate;
    }
    .hero-cta-shell {
      position: relative;
      border-radius: 28px;
      border: 1px solid rgb(148 163 184 / 18%);
      background: linear-gradient(180deg, rgb(5 13 28 / 84%), rgb(6 16 34 / 66%));
      box-shadow:
        inset 0 0 0 1px rgb(148 163 184 / 7%),
        0 24px 60px rgb(2 6 23 / 55%),
        0 0 40px rgb(14 165 233 / 15%);
      backdrop-filter: blur(10px);
      overflow: hidden;
    }
    .hero-cta-shell::after {
      content: "";
      position: absolute;
      inset: 1px;
      border-radius: 27px;
      background: linear-gradient(180deg, rgb(15 23 42 / 56%), rgb(2 6 23 / 18%));
    }
    .hero-cta-shell > * {
      position: relative;
      z-index: 1;
    }
    .hero-title-gradient > span {
      background: linear-gradient(to bottom, white, rgb(148 163 184));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .hero-title-gradient > span.hero-suffix-line {
      background: linear-gradient(to bottom, rgb(148 163 184), rgb(100 116 139));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      margin-top: 0.25em;
    }
    .hero-rotating-wrap {
      --hero-word-height: 1.25em;
      min-width: 11ch;
      height: var(--hero-word-height);
      vertical-align: baseline;
      isolation: isolate;
      text-align: center;
    }
    .hero-rotating-word {
      height: var(--hero-word-height);
      min-height: var(--hero-word-height);
      line-height: 1.25;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      box-sizing: border-box;
    }
    .hero-rotating-word-gradient {
      --hue-word: 0deg;
      --hue-saturation: 85%;
      background: linear-gradient(
        90deg,
        hsl(var(--hue-word), var(--hue-saturation), 55%),
        hsl(calc(var(--hue-word) + 60deg), var(--hue-saturation), 55%),
        hsl(calc(var(--hue-word) + 120deg), var(--hue-saturation), 55%)
      );
      background-size: 200% 100%;
      background-position: 0% 50%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      color: transparent;
      animation: hero-word-gradient-shift 6s ease-in-out infinite;
    }
    .hero-integrate-link {
      display: inline-block;
      animation: hero-link-pulse 2.5s ease-in-out infinite;
    }
    .hero-integrate-link:hover {
      animation: none;
      transform: translateY(-2px);
    }
    .hero-search-shell {
      position: relative;
      display: flex;
      align-items: center;
      border-radius: 14px;
      border: 1px solid rgb(56 189 248 / 45%);
      background: rgb(2 10 24 / 66%);
      box-shadow:
        inset 0 0 0 1px rgb(56 189 248 / 17%),
        0 0 32px rgb(14 165 233 / 20%);
      padding-left: 2.85rem;
    }
    .hero-search-icon {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: rgb(125 211 252 / 80%);
    }
    .hero-search-shell input {
      width: 100%;
      border: none;
      background: transparent;
      color: rgb(226 232 240);
      font-size: 1rem;
      padding: 0.95rem 1rem 0.95rem 0;
      outline: none;
    }
    .hero-search-shell input::placeholder {
      color: rgb(148 163 184 / 72%);
    }
    .hero-primary-cta {
      color: white;
      background: linear-gradient(90deg, #0ea5e9, #38bdf8);
      box-shadow:
        inset 0 0 0 1px rgb(125 211 252 / 26%),
        0 10px 30px rgb(14 165 233 / 34%);
      transition: transform 0.2s ease, box-shadow 0.2s ease, filter 0.2s ease;
    }
    .hero-primary-cta:hover {
      transform: translateY(-2px);
      filter: brightness(1.05);
      box-shadow:
        inset 0 0 0 1px rgb(125 211 252 / 34%),
        0 14px 36px rgb(14 165 233 / 45%);
    }
    .hero-secondary-cta {
      color: rgb(226 232 240);
      background: rgb(15 23 42 / 46%);
      border: 1px solid rgb(148 163 184 / 24%);
      box-shadow: inset 0 0 0 1px rgb(148 163 184 / 12%);
      transition: transform 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
    }
    .hero-secondary-cta:hover {
      transform: translateY(-2px);
      background: rgb(30 41 59 / 56%);
      border-color: rgb(148 163 184 / 40%);
    }
    .examples-marquee-section {
      position: relative;
    }
    .examples-marquee-head {
      display: flex;
      align-items: flex-end;
      justify-content: space-between;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    .examples-marquee-eyebrow {
      margin: 0;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-size: 0.72rem;
      color: rgb(56 189 248 / 90%);
      font-weight: 600;
    }
    .examples-marquee-title {
      margin: 0.48rem 0 0;
      font-size: clamp(1.2rem, 2.1vw, 1.6rem);
      line-height: 1.25;
      letter-spacing: -0.02em;
      color: rgb(241 245 249 / 98%);
    }
    .examples-marquee-lead {
      margin: 0.58rem 0 0;
      color: rgb(148 163 184 / 92%);
      line-height: 1.6;
      max-width: 68ch;
      font-size: 0.92rem;
    }
    .examples-marquee-stack {
      display: grid;
      gap: 1.25rem;
    }
    .examples-marquee-row {
      border: 1px solid rgb(148 163 184 / 14%);
      border-radius: 18px;
      background:
        radial-gradient(circle at 0% 0%, rgb(56 189 248 / 9%), transparent 42%),
        rgb(2 10 24 / 50%);
      overflow: hidden;
      padding: 0.62rem;
    }
    .examples-marquee-row[data-tone="easy"] {
      box-shadow: inset 0 0 0 1px rgb(16 185 129 / 12%);
    }
    .examples-marquee-row[data-tone="med"] {
      box-shadow: inset 0 0 0 1px rgb(251 191 36 / 12%);
    }
    .examples-marquee-row[data-tone="hard"] {
      box-shadow: inset 0 0 0 1px rgb(244 63 94 / 14%);
    }
    .examples-marquee-track-wrap {
      display: flex;
      width: max-content;
      will-change: transform;
    }
    .examples-marquee-track {
      display: flex;
      gap: 0.95rem;
      flex-shrink: 0;
    }
    .examples-marquee-card {
      width: clamp(260px, 25vw, 338px);
      flex: 0 0 auto;
      border-radius: 14px;
      border: 1px solid rgb(148 163 184 / 16%);
      background: linear-gradient(165deg, rgb(5 13 28 / 94%), rgb(6 16 34 / 82%));
      box-shadow: inset 0 0 0 1px rgb(148 163 184 / 6%);
      padding: 0.92rem 1rem;
      text-decoration: none;
      display: flex;
      flex-direction: column;
      gap: 0.34rem;
      min-height: 190px;
      transition: transform 0.24s ease, border-color 0.24s ease, box-shadow 0.24s ease;
    }
    .examples-marquee-card:hover {
      transform: translateY(-2px);
      border-color: rgb(56 189 248 / 42%);
      box-shadow:
        inset 0 0 0 1px rgb(56 189 248 / 16%),
        0 10px 24px rgb(2 6 23 / 45%);
    }
    .examples-marquee-meta {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.45rem;
      margin-bottom: 0.45rem;
    }
    .examples-marquee-category {
      font-size: 0.74rem;
      color: rgb(148 163 184 / 86%);
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .examples-marquee-name {
      margin: 0;
      color: rgb(241 245 249 / 98%);
      font-size: 0.98rem;
      line-height: 1.35;
      font-weight: 600;
      letter-spacing: -0.01em;
      text-wrap: balance;
    }
    .examples-marquee-description {
      margin: 0.45rem 0 0;
      color: rgb(148 163 184 / 88%);
      font-size: 0.82rem;
      line-height: 1.5;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    .examples-marquee-footer {
      margin-top: auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.55rem;
      padding-top: 0.55rem;
      border-top: 1px solid rgb(148 163 184 / 12%);
    }
    .examples-marquee-tag-list {
      display: flex;
      align-items: center;
      gap: 0.38rem;
      flex-wrap: wrap;
      min-width: 0;
    }
    .examples-marquee-tag {
      font-size: 0.68rem;
      line-height: 1;
      color: rgb(148 163 184 / 95%);
      background: rgb(15 23 42 / 78%);
      border: 1px solid rgb(148 163 184 / 22%);
      border-radius: 999px;
      padding: 0.28rem 0.48rem;
      max-width: 12ch;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .examples-marquee-lab {
      font-size: 0.65rem;
      font-weight: 700;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: rgb(125 211 252 / 95%);
      border: 1px solid rgb(56 189 248 / 30%);
      border-radius: 999px;
      padding: 0.25rem 0.46rem;
      background: rgb(2 10 24 / 70%);
      flex-shrink: 0;
    }
    .examples-marquee-difficulty {
      font-size: 0.66rem;
      line-height: 1;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      border-radius: 999px;
      padding: 0.25rem 0.48rem;
      border: 1px solid transparent;
      flex-shrink: 0;
    }
    .examples-marquee-difficulty--easy {
      color: rgb(52 211 153 / 95%);
      background: rgb(16 185 129 / 12%);
      border-color: rgb(16 185 129 / 35%);
    }
    .examples-marquee-difficulty--med {
      color: rgb(251 191 36 / 95%);
      background: rgb(251 191 36 / 12%);
      border-color: rgb(251 191 36 / 35%);
    }
    .examples-marquee-difficulty--hard {
      color: rgb(251 113 133 / 95%);
      background: rgb(244 63 94 / 12%);
      border-color: rgb(244 63 94 / 35%);
    }
    .manifesto-section {
      position: relative;
    }
    .manifesto-shell {
      position: relative;
      border-radius: 28px;
      border: 1px solid rgb(148 163 184 / 20%);
      background:
        radial-gradient(circle at 10% 10%, rgb(14 165 233 / 12%), transparent 38%),
        radial-gradient(circle at 90% 0%, rgb(16 185 129 / 12%), transparent 34%),
        linear-gradient(165deg, rgb(5 13 28 / 88%), rgb(6 16 34 / 72%));
      box-shadow:
        inset 0 0 0 1px rgb(148 163 184 / 8%),
        0 20px 55px rgb(2 6 23 / 50%);
      backdrop-filter: blur(8px);
      padding: clamp(1.25rem, 2.5vw, 2.2rem);
      display: grid;
      gap: 1.35rem;
    }
    .manifesto-eyebrow {
      margin: 0 0 0.55rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-size: 0.72rem;
      color: rgb(56 189 248 / 92%);
      font-weight: 600;
    }
    .manifesto-title {
      margin: 0;
      font-size: clamp(1.55rem, 2.2vw, 2.35rem);
      line-height: 1.1;
      color: rgb(241 245 249);
      letter-spacing: -0.02em;
    }
    .manifesto-lead {
      margin: 0.8rem 0 0;
      font-size: clamp(1rem, 1.3vw, 1.2rem);
      color: rgb(186 230 253 / 94%);
      line-height: 1.55;
    }
    .manifesto-body {
      margin: 0.7rem 0 0;
      color: rgb(148 163 184 / 92%);
      line-height: 1.72;
      max-width: 82ch;
    }
    .manifesto-category-head {
      margin: 0 0 0.8rem;
      font-size: 0.95rem;
      font-weight: 600;
      letter-spacing: 0.02em;
      color: rgb(226 232 240 / 92%);
    }
    .manifesto-text-flow {
      margin-top: 0.35rem;
      display: grid;
      gap: 0.48rem;
    }
    .manifesto-flow-line {
      margin: 0;
      font-size: 0.9rem;
      color: rgb(186 230 253 / 90%);
      line-height: 1.55;
      border-left: 2px solid rgb(56 189 248 / 32%);
      padding-left: 0.75rem;
    }
    .manifesto-step {
      display: inline-block;
      min-width: 2.3ch;
      margin-right: 0.28rem;
      color: rgb(56 189 248 / 95%);
      font-weight: 700;
      font-variant-numeric: tabular-nums;
    }
    .manifesto-accent {
      color: rgb(226 232 240 / 95%);
      font-weight: 600;
    }
    .manifesto-animate-pulse {
      animation: manifesto-pulse 4.8s ease-in-out infinite;
    }
    .manifesto-animate-float {
      animation: manifesto-float 6.4s ease-in-out infinite;
    }
    .manifesto-animate-glow {
      animation: manifesto-glow 5.6s ease-in-out infinite;
    }
    .manifesto-micro {
      margin: 0.15rem 0 0;
      font-size: 0.82rem;
      color: rgb(148 163 184 / 82%);
      letter-spacing: 0.01em;
    }
    .manifesto-subsection {
      margin-top: 0.2rem;
    }
    .manifesto-divider {
      width: 100%;
      height: 1px;
      margin: 0.15rem 0 0.55rem;
      background: linear-gradient(90deg, rgb(56 189 248 / 0%), rgb(56 189 248 / 35%), rgb(56 189 248 / 0%));
    }
    .roadmap-section,
    .keywords-section,
    .scramble-section {
      position: relative;
    }
    /* ---- Roadmap: simple, clean ---- */
    .roadmap-shell {
      padding: clamp(1.5rem, 3vw, 3rem) 0;
    }
    .roadmap-eyebrow,
    .keywords-eyebrow,
    .scramble-eyebrow {
      margin: 0;
      font-size: clamp(0.7rem, 1vw, 0.82rem);
      line-height: 1;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      color: rgb(56 189 248 / 92%);
      font-weight: 600;
    }
    .roadmap-title,
    .keywords-title,
    .scramble-title {
      margin: 0.55rem 0 0;
      font-size: clamp(1.6rem, 2.8vw, 2.8rem);
      line-height: 1.1;
      letter-spacing: -0.02em;
      color: rgb(241 245 249 / 98%);
    }
    .roadmap-lead,
    .keywords-lead,
    .scramble-lead {
      margin: 1rem 0 0;
      max-width: 72ch;
      line-height: 1.72;
      color: rgb(148 163 184 / 92%);
      font-size: clamp(0.95rem, 1.4vw, 1.1rem);
    }
    /* Roadmap SVG — full width, simple */
    .roadmap-svg {
      margin-top: 2.5rem;
      width: 100%;
      height: auto;
      display: block;
      overflow: visible;
    }
    .roadmap-draw-path {
      fill: none;
      stroke-linecap: round;
    }
    .roadmap-dot {
      fill: rgb(5 13 28);
      stroke-width: 2.4;
    }
    .roadmap-dot[data-c="1"] { stroke: rgb(56 189 248); }
    .roadmap-dot[data-c="2"] { stroke: rgb(168 85 247); }
    .roadmap-dot[data-c="3"] { stroke: rgb(251 191 36); }
    .roadmap-dot[data-c="4"] { stroke: rgb(244 114 182); }
    .roadmap-dot-label {
      font-size: 12px;
      font-weight: 600;
      fill: rgb(203 213 225 / 85%);
      letter-spacing: 0.02em;
    }
    .roadmap-dot-num {
      font-size: 11px;
      font-weight: 800;
      letter-spacing: 0.05em;
    }
    .roadmap-dot-num[data-c="1"] { fill: rgb(56 189 248); }
    .roadmap-dot-num[data-c="2"] { fill: rgb(216 180 254); }
    .roadmap-dot-num[data-c="3"] { fill: rgb(251 191 36); }
    .roadmap-dot-num[data-c="4"] { fill: rgb(249 168 212); }
    /* Phase descriptions — simple 2-col grid */
    .roadmap-phases {
      margin-top: 3rem;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem 3rem;
    }
    .roadmap-phase-item {
      padding-left: 1rem;
      border-left: 2px solid rgb(148 163 184 / 14%);
    }
    .roadmap-phase-item[data-c="1"] { border-left-color: rgb(56 189 248 / 40%); }
    .roadmap-phase-item[data-c="2"] { border-left-color: rgb(168 85 247 / 40%); }
    .roadmap-phase-item[data-c="3"] { border-left-color: rgb(251 191 36 / 40%); }
    .roadmap-phase-item[data-c="4"] { border-left-color: rgb(244 114 182 / 40%); }
    .roadmap-phase-item h3 {
      margin: 0 0 0.4rem;
      font-size: clamp(0.95rem, 1.5vw, 1.15rem);
      font-weight: 700;
      color: rgb(241 245 249 / 95%);
      letter-spacing: -0.01em;
      line-height: 1.25;
    }
    .roadmap-phase-item p {
      margin: 0;
      color: rgb(148 163 184 / 78%);
      line-height: 1.65;
      font-size: clamp(0.82rem, 1.1vw, 0.95rem);
    }
    /* ---- Keywords: open layout (no card) ---- */
    .keywords-shell {
      padding: clamp(1.5rem, 3vw, 3rem) 0;
    }
    .keywords-list {
      margin-top: 3.5rem;
      display: grid;
      gap: 6rem;
    }
    .keyword-row {
      padding: 0 0 0 1.25rem;
      border-left: 3px solid rgb(56 189 248 / 28%);
    }
    .keyword-row[data-align="center"] {
      padding: 0 1.25rem;
      border-left: none;
      border-right: none;
      text-align: center;
    }
    .keyword-row[data-align="center"] .keyword-copy {
      margin-inline: auto;
    }
    .keyword-row[data-align="right"] {
      padding: 0 1.25rem 0 0;
      border-left: none;
      border-right: 3px solid rgb(56 189 248 / 28%);
      text-align: right;
    }
    .keyword-row[data-align="right"] .keyword-copy {
      margin-inline: auto 0;
      text-align: right;
    }
    .keyword-line {
      margin: 0;
      font-size: clamp(2.8rem, 7vw, 5.5rem);
      line-height: 0.92;
      letter-spacing: -0.04em;
      font-weight: 900;
      color: rgb(241 245 249 / 98%);
      perspective: 600px;
      overflow: hidden;
    }
    .keyword-copy {
      margin: 1.1rem 0 0;
      color: rgb(148 163 184 / 90%);
      line-height: 1.7;
      max-width: 68ch;
      font-size: clamp(0.92rem, 1.3vw, 1.05rem);
    }
    .keyword-accent {
      color: rgb(125 211 252 / 96%);
      font-weight: 600;
    }
    /* ---- Scramble: open, no card ---- */
    .scramble-shell {
      padding: clamp(1.5rem, 3vw, 3rem) 0;
    }
    /* Cycling scramble hero — centered */
    .scramble-cycle-line {
      display: block;
      margin: 3rem 0 0;
      text-align: center;
      font-family: "Courier New", Courier, monospace;
      font-size: clamp(2rem, 6vw, 5rem);
      font-weight: 700;
      letter-spacing: 0.04em;
      color: rgb(56 189 248);
      text-shadow: 0 0 40px rgb(56 189 248 / 35%);
      min-height: 1.2em;
      opacity: 0;
      line-height: 1.15;
    }
    .scramble-char {
      color: rgb(125 211 252 / 70%);
      text-shadow: 0 0 18px rgb(56 189 248 / 30%);
    }
    .scramble-static-line .scramble-char {
      color: inherit;
      text-shadow: inherit;
    }
    /* Static styled lines below the cycling one — centered, smaller, scramble-in */
    .scramble-statics {
      margin-top: 4rem;
      display: grid;
      gap: 1rem;
      text-align: center;
    }
    .scramble-static-line {
      margin: 0;
      font-size: clamp(0.95rem, 2.2vw, 1.35rem);
      font-weight: 800;
      letter-spacing: -0.01em;
      line-height: 1.1;
      text-transform: uppercase;
    }
    /* Style variants */
    .scramble-static-line[data-style="plain"] {
      color: rgb(241 245 249 / 95%);
    }
    .scramble-static-line[data-style="gradient"] {
      background: linear-gradient(90deg, rgb(56 189 248), rgb(168 85 247));
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .scramble-static-line[data-style="outline"] {
      color: transparent;
      -webkit-text-stroke: 1.5px rgb(56 189 248 / 70%);
      letter-spacing: 0.04em;
    }
    .scramble-static-line[data-style="muted"] {
      color: rgb(100 116 139 / 80%);
      font-weight: 700;
    }
    @keyframes manifesto-pulse {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 1; }
    }
    @keyframes manifesto-float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-2px); }
    }
    @keyframes manifesto-glow {
      0%, 100% { text-shadow: 0 0 0 rgb(56 189 248 / 0%); }
      50% { text-shadow: 0 0 16px rgb(56 189 248 / 22%); }
    }
    @keyframes hero-word-gradient-shift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    @keyframes hero-link-pulse {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-3px); }
    }
    @media (max-width: 768px) {
      .roadmap-phases {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }
      .hero-rotating-wrap {
        min-width: 0;
        max-width: 100%;
        width: fit-content;
        margin-inline: auto;
      }
      .hero-cta-shell {
        border-radius: 24px;
      }
      .hero-cta-shell::after {
        border-radius: 23px;
      }
      .examples-marquee-stack {
        gap: 0.95rem;
      }
      .examples-marquee-row {
        padding: 0.45rem;
      }
      .examples-marquee-card {
        width: min(84vw, 322px);
        min-height: 174px;
      }
      .manifesto-shell {
        border-radius: 22px;
      }
      .keywords-list {
        gap: 4.5rem;
      }
      .keyword-line {
        font-size: clamp(2.2rem, 12vw, 3.5rem);
      }
      .scramble-cycle-line {
        font-size: clamp(1.5rem, 8vw, 3rem);
      }
      .scramble-static-line {
        font-size: clamp(0.85rem, 4vw, 1.15rem);
      }
    }
    @media (prefers-reduced-motion: reduce) {
      .hero-rotating-word-gradient,
      .hero-integrate-link,
      .manifesto-animate-pulse,
      .manifesto-animate-float,
      .manifesto-animate-glow {
        animation: none !important;
      }
      .hero-rotating-word-gradient {
        background-position: 0% 50%;
      }
      .examples-marquee-row[data-static="true"] {
        overflow-x: auto;
        scrollbar-width: thin;
      }
      .examples-marquee-row[data-static="true"] .examples-marquee-track-wrap {
        transform: none !important;
        width: auto;
      }
    }
  </style>

  <section class="container-xl pb-20 examples-marquee-section" aria-labelledby="featured-resources-title">
    <div class="examples-marquee-head">
      <div>
        <h2 id="featured-resources-title" class="text-xl font-semibold text-white">Featured Resources</h2>
        <p class="examples-marquee-lead">
          Open runnable demos directly in Lab. Compare difficulty, scan stack tags, and pick the right reference before building.
        </p>
      </div>
      <a href="/library" class="text-sm text-brand-400 hover:text-brand-300 transition-colors font-medium">
        View all →
      </a>
    </div>

    <div class="examples-marquee-stack">
      <div class="examples-marquee-row" data-tone="easy" data-examples-marquee-row data-direction="left" data-speed="0.48">
        <div class="examples-marquee-track-wrap" data-examples-marquee-wrap>
          <div class="examples-marquee-track" data-examples-marquee-track>
            {easyMarquee.map((resource: any) => (
              <a href={`${SITE_URLS.lab}${resource.data.labRoute}`} target="_blank" rel="noopener" class="examples-marquee-card">
                <div class="examples-marquee-meta">
                  <span class="examples-marquee-category">{t(`category.${resource.data.category}` as any)}</span>
                  <span class={`examples-marquee-difficulty examples-marquee-difficulty--${resource.data.difficulty}`}>
                    {t(`resource.difficulty.${resource.data.difficulty}` as any)}
                  </span>
                </div>
                <p class="examples-marquee-name">{resource.data.title}</p>
                <p class="examples-marquee-description">{resource.data.description}</p>
                <div class="examples-marquee-footer">
                  <div class="examples-marquee-tag-list">
                    {resource.data.tech.slice(0, 2).map((tech: string) => (
                      <span class="examples-marquee-tag">{tech}</span>
                    ))}
                  </div>
                  <span class="examples-marquee-lab">Lab</span>
                </div>
              </a>
            ))}
          </div>
        </div>
      </div>

      <div class="examples-marquee-row" data-tone="med" data-examples-marquee-row data-direction="right" data-speed="0.58">
        <div class="examples-marquee-track-wrap" data-examples-marquee-wrap>
          <div class="examples-marquee-track" data-examples-marquee-track>
            {medMarquee.map((resource: any) => (
              <a href={`${SITE_URLS.lab}${resource.data.labRoute}`} target="_blank" rel="noopener" class="examples-marquee-card">
                <div class="examples-marquee-meta">
                  <span class="examples-marquee-category">{t(`category.${resource.data.category}` as any)}</span>
                  <span class={`examples-marquee-difficulty examples-marquee-difficulty--${resource.data.difficulty}`}>
                    {t(`resource.difficulty.${resource.data.difficulty}` as any)}
                  </span>
                </div>
                <p class="examples-marquee-name">{resource.data.title}</p>
                <p class="examples-marquee-description">{resource.data.description}</p>
                <div class="examples-marquee-footer">
                  <div class="examples-marquee-tag-list">
                    {resource.data.tech.slice(0, 2).map((tech: string) => (
                      <span class="examples-marquee-tag">{tech}</span>
                    ))}
                  </div>
                  <span class="examples-marquee-lab">Lab</span>
                </div>
              </a>
            ))}
          </div>
        </div>
      </div>

      <div class="examples-marquee-row" data-tone="hard" data-examples-marquee-row data-direction="left" data-speed="0.72">
        <div class="examples-marquee-track-wrap" data-examples-marquee-wrap>
          <div class="examples-marquee-track" data-examples-marquee-track>
            {hardMarquee.map((resource: any) => (
              <a href={`${SITE_URLS.lab}${resource.data.labRoute}`} target="_blank" rel="noopener" class="examples-marquee-card">
                <div class="examples-marquee-meta">
                  <span class="examples-marquee-category">{t(`category.${resource.data.category}` as any)}</span>
                  <span class={`examples-marquee-difficulty examples-marquee-difficulty--${resource.data.difficulty}`}>
                    {t(`resource.difficulty.${resource.data.difficulty}` as any)}
                  </span>
                </div>
                <p class="examples-marquee-name">{resource.data.title}</p>
                <p class="examples-marquee-description">{resource.data.description}</p>
                <div class="examples-marquee-footer">
                  <div class="examples-marquee-tag-list">
                    {resource.data.tech.slice(0, 2).map((tech: string) => (
                      <span class="examples-marquee-tag">{tech}</span>
                    ))}
                  </div>
                  <span class="examples-marquee-lab">Lab</span>
                </div>
              </a>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Categories section -->
  <section class="container-xl pb-20">
    <h2 class="text-xl font-semibold text-white mb-8">Browse by Category</h2>

    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4">
      {([
        { slug: "web-animations", icon: "✦", label: t("category.web-animations"), desc: "Scroll effects, parallax, canvas", comingSoon: false },
        { slug: "web-pages", icon: "◻", label: t("category.web-pages"), desc: "Landings, heroes, pricing pages", comingSoon: false },
        { slug: "pages", icon: "▭", label: t("category.pages"), desc: "Full-page layouts and sections", comingSoon: false },
        { slug: "ui-components", icon: "◈", label: t("category.ui-components"), desc: "Buttons, cards, forms, modals", comingSoon: false },
        { slug: "components", icon: "▧", label: t("category.components"), desc: "Reusable UI blocks and snippets", comingSoon: false },
        { slug: "patterns", icon: "◎", label: t("category.patterns"), desc: "Loaders, hover effects, menus", comingSoon: false },
        { slug: "remotion", icon: "▶", label: t("category.remotion"), desc: "React-powered video templates", comingSoon: false },
        { slug: "prompts", icon: "✺", label: t("category.prompts"), desc: "AI prompts and workflows", comingSoon: false },
        { slug: "music", icon: "♫", label: t("category.music"), desc: "Audio, players, visualizers", comingSoon: true },
        { slug: "skills", icon: "☀", label: t("category.skills"), desc: "AI skills and workflows", comingSoon: true },
        { slug: "mcp-servers", icon: "⛶", label: t("category.mcp-servers"), desc: "MCP servers and tools", comingSoon: true },
        { slug: "architectures", icon: "⚙", label: t("category.architectures"), desc: "Architectures and patterns", comingSoon: true },
      ]).map((cat) =>
        cat.comingSoon ? (
          <div
            class="flex flex-col gap-3 p-5 rounded-2xl border border-white/6 bg-surface-900/30 cursor-not-allowed opacity-70"
            aria-disabled="true"
          >
            <span class="text-2xl text-slate-500">{cat.icon}</span>
            <div>
              <p class="font-semibold text-slate-500">{cat.label}</p>
              <p class="text-xs text-slate-600 mt-0.5">{cat.desc}</p>
              <span class="inline-block mt-2 text-xs font-medium text-slate-500 border border-white/10 rounded-lg px-2 py-0.5">
                {t("category.comingSoon")}
              </span>
            </div>
          </div>
        ) : (
          <a
            href={`/library?category=${cat.slug}`}
            class="group flex flex-col gap-3 p-5 rounded-2xl border border-white/8 bg-surface-900/50 hover:bg-surface-800/60 hover:border-white/14 transition-all hover:-translate-y-0.5"
          >
            <span class="text-2xl">{cat.icon}</span>
            <div>
              <p class="font-semibold text-slate-200 group-hover:text-white transition-colors">{cat.label}</p>
              <p class="text-xs text-slate-500 mt-0.5">{cat.desc}</p>
            </div>
          </a>
        )
      )}
    </div>
  </section>

  <section class="container-xl pb-24 manifesto-section" aria-labelledby="manifesto-title">
    <div class="manifesto-shell">
      <div>
        <p class="manifesto-eyebrow manifesto-animate-pulse">Build with control</p>
        <h2 id="manifesto-title" class="manifesto-title manifesto-animate-float">Take what works. Ship what you want.</h2>
        <p class="manifesto-lead manifesto-animate-glow">For humans and bots who want to build software without starting from zero.</p>
        <p class="manifesto-body">
          StealThis is a reference-first library. Review each element, understand how it works, and reuse it in your own stack.
          Less fragmentation, less complexity, and more control over the style system and tooling you want to build with.
        </p>
        <p class="manifesto-body">
          The goal is simple: one collaborative place where knowledge, proven practices, and production-ready references live together.
          You pick a base, adapt it, and move forward without rebuilding fundamentals every time.
        </p>
      </div>

      <div>
        <h3 class="manifesto-category-head">How to use this place</h3>
        <div class="manifesto-text-flow" role="list" aria-label="How to use this place">
          <p class="manifesto-flow-line" role="listitem">
            <span class="manifesto-step">01</span>
            <span class="manifesto-accent">Find a reference</span> that already solves part of your problem.
          </p>
          <p class="manifesto-flow-line manifesto-animate-pulse" role="listitem">
            <span class="manifesto-step">02</span>
            <span class="manifesto-accent">Study it fast</span>: structure, behavior, and implementation details.
          </p>
          <p class="manifesto-flow-line" role="listitem">
            <span class="manifesto-step">03</span>
            <span class="manifesto-accent">Adapt it</span> to your style system, stack, and constraints.
          </p>
          <p class="manifesto-flow-line manifesto-animate-float" role="listitem">
            <span class="manifesto-step">04</span>
            <span class="manifesto-accent">Ship sooner</span> without sacrificing code quality.
          </p>
        </div>
        <p class="manifesto-micro manifesto-animate-pulse">
          Less boilerplate. Less context switching. More building.
        </p>
      </div>

      <div class="manifesto-subsection">
        <div class="manifesto-divider" aria-hidden="true"></div>
        <h3 class="manifesto-category-head manifesto-animate-glow">What you get in practice</h3>
        <p class="manifesto-body">
          You get a faster first version, stronger implementation references, and fewer dead starts.
          Instead of stitching context from ten different sources, you work from one place and move with intent.
        </p>
        <div class="manifesto-text-flow" role="list" aria-label="Practical outcomes">
          <p class="manifesto-flow-line" role="listitem">
            <span class="manifesto-step">A</span>
            <span class="manifesto-accent">Speed with control:</span> start from a real base and keep your own standards.
          </p>
          <p class="manifesto-flow-line manifesto-animate-pulse" role="listitem">
            <span class="manifesto-step">B</span>
            <span class="manifesto-accent">Shared language:</span> humans and bots can reason from the same references.
          </p>
          <p class="manifesto-flow-line" role="listitem">
            <span class="manifesto-step">C</span>
            <span class="manifesto-accent">Compounding knowledge:</span> every reuse makes the next build easier.
          </p>
        </div>
        <p class="manifesto-body">
          Future direction: custom visual systems, custom workflow setups, and software creation from anywhere with your own rules.
        </p>
      </div>
    </div>
  </section>

  <section class="container-xl pb-24 roadmap-section" aria-labelledby="roadmap-title">
    <div class="roadmap-shell">
      <p class="roadmap-eyebrow">Roadmap in progress</p>
      <h2 id="roadmap-title" class="roadmap-title">From foundations to an AI-first web framework</h2>
      <p class="roadmap-lead">
        We are building this in public, step by step. The path starts with strong foundations, then documentation quality,
        then project generation workflows, and finally a lightweight framework to build web software with AI support.
      </p>

      <!-- Horizontal SVG path draw -->
      <svg class="roadmap-svg" viewBox="0 0 900 120" aria-hidden="true" preserveAspectRatio="xMidYMid meet">
        <!-- Flowing S-curve connecting dots -->
        <path class="roadmap-draw-path" d="M 80 60 C 180 10, 240 110, 340 60 S 500 10, 560 60 S 720 110, 820 60" stroke="rgb(56 189 248 / 45%)" stroke-width="2" />

        <!-- Dot 1 -->
        <circle class="roadmap-dot" data-c="1" cx="80" cy="60" r="18" />
        <text class="roadmap-dot-num" data-c="1" x="80" y="64" text-anchor="middle">01</text>
        <text class="roadmap-dot-label" x="80" y="95" text-anchor="middle">Foundation</text>

        <!-- Dot 2 -->
        <circle class="roadmap-dot" data-c="2" cx="340" cy="60" r="18" />
        <text class="roadmap-dot-num" data-c="2" x="340" y="64" text-anchor="middle">02</text>
        <text class="roadmap-dot-label" x="340" y="95" text-anchor="middle">Docs quality</text>

        <!-- Dot 3 -->
        <circle class="roadmap-dot" data-c="3" cx="560" cy="60" r="18" />
        <text class="roadmap-dot-num" data-c="3" x="560" y="64" text-anchor="middle">03</text>
        <text class="roadmap-dot-label" x="560" y="95" text-anchor="middle">Builder</text>

        <!-- Dot 4 -->
        <circle class="roadmap-dot" data-c="4" cx="820" cy="60" r="18" />
        <text class="roadmap-dot-num" data-c="4" x="820" y="64" text-anchor="middle">04</text>
        <text class="roadmap-dot-label" x="820" y="95" text-anchor="middle">Framework</text>
      </svg>

      <!-- Phase descriptions: 2-col grid -->
      <div class="roadmap-phases">
        <div class="roadmap-phase-item" data-c="1">
          <h3>Build the foundation</h3>
          <p>Stabilize the base architecture, core pages, reusable primitives, and visual language.</p>
        </div>
        <div class="roadmap-phase-item" data-c="2">
          <h3>Improve docs with best practices</h3>
          <p>Make guidance clearer, practical, and actionable so people can implement faster with less confusion.</p>
        </div>
        <div class="roadmap-phase-item" data-c="3">
          <h3>Improve the builder for project creation</h3>
          <p>Reduce setup friction and make project scaffolding more controllable from references.</p>
        </div>
        <div class="roadmap-phase-item" data-c="4">
          <h3>Create the basic StealThis framework</h3>
          <p>A simple framework for web projects, inspired by Astro-style workflows and focused on AI-assisted creation.</p>
        </div>
      </div>
    </div>
  </section>

  <section class="container-xl pb-24 keywords-section" aria-labelledby="keywords-title">
    <div class="keywords-shell">
      <p class="keywords-eyebrow">Project language</p>
      <h2 id="keywords-title" class="keywords-title">The words that define this project</h2>
      <p class="keywords-lead">
        These are not marketing terms. They are operating principles for how we build, share, and ship software with less
        complexity and more ownership.
      </p>

      <div class="keywords-list" role="list" aria-label="Project keywords and meanings">
        <article class="keyword-row" role="listitem" data-align="left">
          <p class="keyword-line">CONTROL</p>
          <p class="keyword-copy"><span class="keyword-accent">Control</span> means choosing your stack, your style system, and your delivery pace without being locked into rigid defaults.</p>
        </article>
        <article class="keyword-row" role="listitem" data-align="center">
          <p class="keyword-line">REFERENCE</p>
          <p class="keyword-copy"><span class="keyword-accent">Reference</span> means learning from concrete implementations, not abstract threads scattered across disconnected sources.</p>
        </article>
        <article class="keyword-row" role="listitem" data-align="right">
          <p class="keyword-line">REUSE</p>
          <p class="keyword-copy"><span class="keyword-accent">Reuse</span> is the default. Start from a proven base, adapt it, and spend energy on differentiation instead of repetition.</p>
        </article>
        <article class="keyword-row" role="listitem" data-align="left">
          <p class="keyword-line">COLLABORATION</p>
          <p class="keyword-copy"><span class="keyword-accent">Collaboration</span> means humans and bots building from the same context, conventions, and production references.</p>
        </article>
        <article class="keyword-row" role="listitem" data-align="center">
          <p class="keyword-line">PRACTICE</p>
          <p class="keyword-copy"><span class="keyword-accent">Practice</span> is where quality emerges: repeatable workflows, tested patterns, and implementation discipline.</p>
        </article>
        <article class="keyword-row" role="listitem" data-align="right">
          <p class="keyword-line">OWNERSHIP</p>
          <p class="keyword-copy"><span class="keyword-accent">Ownership</span> means understanding what you run, why it works, and how to evolve it when requirements change.</p>
        </article>
        <article class="keyword-row" role="listitem" data-align="left">
          <p class="keyword-line">CLARITY</p>
          <p class="keyword-copy"><span class="keyword-accent">Clarity</span> removes friction: one place for references, one language for decisions, one path from idea to delivery.</p>
        </article>
        <article class="keyword-row" role="listitem" data-align="center">
          <p class="keyword-line">SHIP</p>
          <p class="keyword-copy"><span class="keyword-accent">Ship</span> means reaching production sooner without dropping standards for architecture, accessibility, and maintainability.</p>
        </article>
      </div>
    </div>
  </section>

  <section class="container-xl pb-28 scramble-section" aria-labelledby="scramble-title">
    <div class="scramble-shell">
      <p class="scramble-eyebrow">Steal This philosophy</p>
      <h2 id="scramble-title" class="scramble-title">Words we reveal while we build</h2>
      <p class="scramble-lead">
        Every line below is a commitment to a more practical way of building software: grounded references, shared context,
        and faster execution with control.
      </p>

      <!-- Single cycling scramble hero line -->
      <p
        class="scramble-cycle-line"
        aria-live="polite"
        data-phrases={JSON.stringify(["STEAL THIS →", "BUILD WITH CONTROL", "START FROM REFERENCES", "HUMANS + BOTS", "LESS FRICTION, MORE SHIPPING"])}
      ></p>

      <!-- Static styled lines (scramble-in on scroll) -->
      <div class="scramble-statics" role="list" aria-label="StealThis philosophy lines">
        <p class="scramble-static-line" role="listitem" data-style="plain" data-text="BUILD WITH CONTROL"></p>
        <p class="scramble-static-line" role="listitem" data-style="gradient" data-text="START FROM REFERENCES"></p>
        <p class="scramble-static-line" role="listitem" data-style="muted" data-text="LESS FRICTION, MORE SHIPPING"></p>
        <p class="scramble-static-line" role="listitem" data-style="outline" data-text="HUMANS + BOTS, SAME CONTEXT"></p>
      </div>
    </div>
  </section>
  </div>
</Base>
